<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html b:version='2' class='v2' expr:dir='data:blog.languageDirection' xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/2005/gml/b' xmlns:data='http://www.google.com/2005/gml/data' xmlns:expr='http://www.google.com/2005/gml/expr'>
<head>
<title><data:blog.pageTitle/></title>
<meta content='width=device-width, initial-scale=1' name='viewport'/>
<!-- Bootstrap CSS -->
<link href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css' rel='stylesheet'/>
<!-- Bootstrap Icons -->
<link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css' rel='stylesheet'/>
<!-- LazySizes for image lazy loading -->
<script async='' src='https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js'/>

<!-- Blogger Theme Skin -->
<b:skin><![CDATA[
/*
* Bootstrap Blogger Theme
* --------------------------------------------------
* @version 1.2
* @author Jules
*/

/* Variable definitions for Theme Designer
----------------------------------------------- */
<Group description="Theme Colors" selector="body">
  <Variable name="body.background.color" description="Background Color" type="color" default="#f8f9fa" value="#f8f9fa"/>
  <Variable name="body.text.color" description="Text Color" type="color" default="#212529" value="#212529"/>
  <Variable name="link.color" description="Link Color" type="color" default="#0d6efd" value="#0d6efd"/>
</Group>
<Group description="Fonts" selector="body">
    <Variable name="body.font" description="Body Font" type="font" default="normal normal 16px 'Helvetica Neue', Arial, sans-serif" value="normal normal 16px 'Helvetica Neue', Arial, sans-serif"/>
</Group>

/* Base Styles
----------------------------------------------- */
body {
  background-color: $(body.background.color);
  color: $(body.text.color);
  font: $(body.font);
}

a {
  color: $(link.color);
}

header {
  position: relative;
  z-index: 1030;
}

/* Dark Mode Styles
----------------------------------------------- */
.dark-mode body {
  background-color: #121212;
  color: #fff;
}
.dark-mode .bg-light {
  background-color: #212529 !important;
}
.dark-mode .card {
  background-color: #1e1e1e;
  border-color: #333;
}
.dark-mode .text-muted {
  color: #aaa !important;
}
.dark-mode a {
  color: #8ab4f8;
}

/* Dark mode toggle button icons */
#dark-mode-toggle ~ label .bi-sun {
  display: none;
}
#dark-mode-toggle:checked ~ label .bi-moon {
  display: none;
}
#dark-mode-toggle:checked ~ label .bi-sun {
  display: inline-block;
}
html.dark-mode #dark-mode-toggle ~ label .bi-moon {
  display: none;
}
html.dark-mode #dark-mode-toggle ~ label .bi-sun {
  display: inline-block;
}
]]></b:skin>

<!-- This is required for the Blogger layout editor to work correctly. -->
<b:template-skin>
  <![CDATA[
    body#layout .section {
      margin: 0;
      padding: 10px;
      border: 1px dashed #ccc;
    }
    body#layout .section .widget {
      margin: 0;
      padding: 10px;
      border: 1px solid #f0f0f0;
    }
  ]]>
</b:template-skin>
</head>
<body>
<!-- Header and Navigation Bar -->
<header class="bg-light border-bottom">
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <!-- Blog Title -->
      <b:section class='header' id='header' maxwidgets='1' showaddelement='no'>
        <b:widget id='Header1' locked='true' title='Blog Title' type='Header' version='1'>
          <b:includable id='main'>
            <a class="navbar-brand" expr:href='data:blog.homepageUrl'>
              <data:title/>
            </a>
          </b:includable>
        </b:widget>
      </b:section>
      <!-- Mobile Navigation Toggle -->
      <button aria-controls='navbarNav' aria-expanded='false' aria-label='Toggle navigation' class='navbar-toggler' data-bs-target='#navbarNav' data-bs-toggle='collapse' type='button'>
        <span class='navbar-toggler-icon'></span>
      </button>
      <!-- Navigation Menu -->
      <div class='collapse navbar-collapse' id='navbarNav'>
        <b:section class='ms-auto' id='navbar' maxwidgets='1' showaddelement='yes'>
          <b:widget id='LinkList1' locked='false' title='Menu' type='LinkList' version='1'>
            <b:includable id='main'>
              <ul class='navbar-nav'>
                <b:loop values='data:links' var='link'>
                  <li class='nav-item'><a class='nav-link' expr:href='data:link.target'><data:link.name/></a></li>
                </b:loop>
              </ul>
            </b:includable>
          </b:widget>
        </b:section>
        <!-- Dark Mode Toggle -->
        <div class='d-flex align-items-center'>
          <input class='d-none' id='dark-mode-toggle' type='checkbox'/>
          <label class='nav-link' for='dark-mode-toggle' style='cursor: pointer;'>
            <i class='bi bi-moon'/>
            <i class='bi bi-sun'/>
          </label>
        </div>
      </div>
    </div>
  </nav>
</header>

<!-- Featured Post Section -->
<div class='container'>
  <b:section class='featured-post' id='featured-post' maxwidgets='1' showaddelement='yes'>
    <b:widget id='HTML3' locked='false' title='Featured Post' type='HTML' version='1'>
      <b:includable id='main'>
        <!-- The user provides the URL of the featured post in this div -->
        <div id='featured-post-container'>
          <data:content/>
        </div>
        <script>
        // <![CDATA[
          // --- Featured Post Script ---
          // Fetches and displays a featured post from a given URL.

          var featuredPostContainer = document.getElementById('featured-post-container');
          if (featuredPostContainer) {
            // Get the URL from the widget's content.
            var featuredPostUrl = featuredPostContainer.innerText.trim();
            if (featuredPostUrl) {
              // Construct the JSON-in-script URL.
              var url = featuredPostUrl.split('?')[0] + '?alt=json-in-script&callback=showFeaturedPost';
              // Create a script tag to fetch the data.
              var script = document.createElement('script');
              script.src = url;
              document.body.appendChild(script);
            }
          }

          // Callback function to render the featured post.
          function showFeaturedPost(json) {
            var entry = json.entry;
            var postUrl = featuredPostUrl;
            var postTitle = entry.title.$t;
            var postSnippet = ("summary" in entry) ? entry.summary.$t.replace(/<[^>]*>/g, "").substring(0, 250) + '...' : "";
            var postImage = ("media$thumbnail" in entry) ? entry.media$thumbnail.url : "https://via.placeholder.com/150";

            var html = '<div class="card mb-4">';
            html += '<div class="card-header">Featured Post</div>';
            html += '<img data-src="' + postImage + '" class="card-img-top lazyload" alt="' + postTitle + '"/>';
            html += '<div class="card-body">';
            html += '<h2 class="card-title"><a href="' + postUrl + '">' + postTitle + '</a></h2>';
            html += '<p class="card-text">' + postSnippet + '</p>';
            html += '<a class="btn btn-primary" href="' + postUrl + '">Read More</a>';
            html += '</div>';
            html += '</div>';

            if (featuredPostContainer) {
                featuredPostContainer.innerHTML = html;
            }
          }
        // ]]>
        </script>
      </b:includable>
    </b:widget>
  </b:section>
</div>

<!-- Main Content Area -->
<!-- Check if the current page is an error page -->
<b:if cond='data:view.isError'>
  <!-- Display a 404 error message -->
  <div class='container my-4 text-center'>
    <h1 class='display-1'>404</h1>
    <h2>Page Not Found</h2>
    <p>Sorry, the page you are looking for does not exist.</p>
    <a class='btn btn-primary' expr:href='data:blog.homepageUrl'>Go to Homepage</a>
  </div>
<b:else/>
  <!-- Display the main content and sidebar -->
  <main class='container my-4'>
    <div class='row'>
      <!-- Blog Posts Column -->
      <div class='col-md-8'>
        <b:section class='main' id='main' showaddelement='yes'>
          <b:widget id='Blog1' locked='true' title='Blog Posts' type='Blog' version='1'>
            <b:includable id='main'>
              <!-- Loop through and display all posts -->
              <b:loop values='data:posts' var='post'>
                <b:include data='post' name='post'/>
              </b:loop>
            </b:includable>
            <b:includable id='post' var='post'>
              <div class='card mb-4'>
                <div class='card-body'>
                  <h2 class='card-title'>
                    <!-- Display post title as a link on list pages, and as plain text on single item pages -->
                    <b:if cond='data:view.isSingleItem'>
                      <data:post.title/>
                    <b:else/>
                      <a expr:href='data:post.url'><data:post.title/></a>
                    </b:if>
                  </h2>
                  <!-- Post metadata -->
                  <div class='card-subtitle mb-2 text-muted'>
                    <span class='me-2'><i class='bi bi-person'/> <data:post.author/></span>
                    <span class='me-2'><i class='bi bi-calendar'/> <data:post.timestamp/></span>
                  </div>
                  <!-- Table of Contents (only on single post pages) -->
                  <b:if cond='data:view.isSingleItem'>
                    <div id='toc-container' class='card mb-4'>
                      <div class='card-header'>Table of Contents</div>
                      <div class='card-body'>
                        <ul id='toc' class='list-unstyled'></ul>
                      </div>
                    </div>
                  </b:if>
                  <!-- Post body content -->
                  <div class='card-text'>
                    <b:if cond='data:view.isSingleItem'>
                      <!-- Display the full post body -->
                      <data:post.body/>
                      <script>
                      // <![CDATA[
                        // --- Table of Contents Script ---
                        // Generates a TOC from h2, h3, and h4 tags in the post body.

                        var tocContainer = document.getElementById('toc-container');
                        if (tocContainer) {
                          var toc = document.getElementById('toc');
                          var postBody = document.querySelector('.card-text');
                          if (toc && postBody) {
                              var headings = postBody.querySelectorAll('h2, h3, h4');
                              if (headings.length > 0) {
                                var tocList = document.createElement('ul');
                                tocList.classList.add('list-unstyled');
                                for (var i = 0; i < headings.length; i++) {
                                  var heading = headings[i];
                                  var id = 'toc-' + i;
                                  heading.setAttribute('id', id);
                                  var li = document.createElement('li');
                                  var a = document.createElement('a');
                                  a.setAttribute('href', '#' + id);
                                  a.textContent = heading.textContent;
                                  li.appendChild(a);
                                  tocList.appendChild(li);
                                }
                                toc.appendChild(tocList);
                              } else {
                                // Hide the TOC container if no headings are found.
                                tocContainer.style.display = 'none';
                              }
                          }
                        }
                      // ]]>
                      </script>
                    <b:else/>
                      <!-- Display a snippet of the post body -->
                      <b:eval expr='data:post.snippets.long ? data:post.snippets.long : data:post.body snippet { length: 250, links: false, linebreaks: true }'/>
                      <div class='mt-2'>
                        <a class='btn btn-primary btn-sm' expr:href='data:post.url'>Read More</a>
                      </div>
                    </b:if>
                  </div>
                  <!-- Post labels -->
                  <div class='mt-3'>
                    <b:loop values='data:post.labels' var='label'>
                      <a class='btn btn-outline-secondary btn-sm me-1' expr:href='data:label.url'><data:label.name/></a>
                    </b:loop>
                  </div>
                  <!-- Social sharing buttons -->
                  <div class='mt-3'>
                    <strong>Share this post:</strong>
                    <a class='btn btn-outline-primary btn-sm' expr:href='&quot;https://www.facebook.com/sharer/sharer.php?u=&quot; + data:post.url.canonical' target='_blank'><i class='bi bi-facebook'/></a>
                    <a class='btn btn-outline-info btn-sm' expr:href='&quot;https://twitter.com/intent/tweet?url=&quot; + data:post.url.canonical + &quot;&amp;text=&quot; + data:post.title' target='_blank'><i class='bi bi-twitter'/></a>
                    <a class='btn btn-outline-primary btn-sm' expr:href='&quot;https://www.linkedin.com/shareArticle?mini=true&amp;url=&quot; + data:post.url.canonical' target='_blank'><i class='bi bi-linkedin'/></a>
                    <a class='btn btn-outline-danger btn-sm' expr:href='&quot;https://pinterest.com/pin/create/button/?url=&quot; + data:post.url.canonical + &quot;&amp;media=&quot; + data:post.firstImageUrl + &quot;&amp;description=&quot; + data:post.title' target='_blank'><i class='bi bi-pinterest'/></a>
                  </div>
                </div>
              </div>
              <!-- Additional sections for single post pages -->
              <b:if cond='data:view.isSingleItem'>
                <!-- Author Box -->
                <div class='card my-4'>
                  <div class='card-body'>
                    <div class='d-flex align-items-center'>
                      <div class='flex-shrink-0'>
                        <img class='rounded-circle' expr:src='data:post.author.authorPhoto.image' style='width: 80px; height: 80px;'/>
                      </div>
                      <div class='flex-grow-1 ms-3'>
                        <h5 class='mt-0'><data:post.author.name/></h5>
                        <p><data:post.author.aboutMe/></p>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Comments Section -->
                <div class='card my-4'>
                  <div class='card-body'>
                    <b:include data='post' name='comments'/>
                  </div>
                </div>
                <!-- Related Posts Section -->
                <div id='related-posts'>
                  <h3 class='my-4'>Related Posts</h3>
                  <div class='row'>
                    <!-- Related posts will be loaded here by the script -->
                  </div>
                </div>
                <script>
                // <![CDATA[
                  // --- Related Posts Script ---
                  // Fetches and displays related posts based on the first label of the current post.

                  var postLabels = [<b:loop values='data:post.labels' var='label'>'<data:label.name/>'<b:if cond='data:label.isLast != "true"'>,</b:if></b:loop>];
                  if (postLabels.length > 0) {
                    var relatedPostsContainer = document.getElementById('related-posts');
                    // Fetch posts with the same first label.
                    var url = '/feeds/posts/default/-/' + postLabels[0] + '?alt=json-in-script&max-results=3&callback=showRelatedPosts';
                    var script = document.createElement('script');
                    script.src = url;
                    document.body.appendChild(script);
                  }

                  // Callback function to render the related posts.
                  function showRelatedPosts(json) {
                    var relatedPostsContainer = document.querySelector('#related-posts .row');
                    if (!relatedPostsContainer) return;

                    for (var i = 0; i < json.feed.entry.length; i++) {
                      var entry = json.feed.entry[i];
                      var postUrl;
                      for (var j = 0; j < entry.link.length; j++) {
                        if (entry.link[j].rel == 'alternate') {
                          postUrl = entry.link[j].href;
                          break;
                        }
                      }
                      // Don't show the current post in the related posts section.
                      if (postUrl == window.location.href) continue;

                      var postTitle = entry.title.$t;
                      var postSnippet = ("summary" in entry) ? entry.summary.$t.replace(/<[^>]*>/g, "").substring(0, 100) + '...' : "";
                      var postImage = ("media$thumbnail" in entry) ? entry.media$thumbnail.url : "https://via.placeholder.com/150";

                      var html = '<div class="col-md-4 mb-4">';
                      html += '<div class="card">';
                      html += '<img data-src="' + postImage + '" class="card-img-top lazyload" alt="' + postTitle + '"/>';
                      html += '<div class="card-body">';
                      html += '<h5 class="card-title"><a href="' + postUrl + '">' + postTitle + '</a></h5>';
                      html += '<p class="card-text">' + postSnippet + '</p>';
                      html += '</div>';
                      html += '</div>';
                      html += '</div>';
                      relatedPostsContainer.innerHTML += html;
                    }
                  }
                // ]]>
                </script>
              </b:if>
            </b:includable>
          </b:widget>
        </b:section>
      </div>
      <!-- Sidebar Column -->
      <div class='col-md-4'>
        <b:section class='sidebar' id='sidebar' showaddelement='yes'>
          <!-- Search Widget -->
          <b:widget id='HTML2' locked='false' title='Search' type='HTML' version='1'>
            <b:includable id='main'>
              <div class='card mb-4'>
                <div class='card-header'><data:title/></div>
                <div class='card-body'>
                  <form expr:action='data:blog.searchUrl' method='get'>
                    <div class='input-group'>
                      <input class='form-control' name='q' placeholder='Search...' type='text'/>
                      <button class='btn btn-outline-secondary' type='submit'><i class='bi bi-search'/></button>
                    </div>
                  </form>
                </div>
              </div>
            </b:includable>
          </b:widget>
          <!-- Recent Posts Widget -->
          <b:widget id='HTML4' locked='false' title='Recent Posts' type='HTML' version='1'>
            <b:includable id='main'>
              <div class='card mb-4'>
                <div class='card-header'><data:title/></div>
                <div class='card-body'>
                  <div id='recent-posts-container'></div>
                  <script>
                  // <![CDATA[
                    // --- Recent Posts Script ---
                    // Fetches and displays the 5 most recent posts.

                    var recentPostsContainer = document.getElementById('recent-posts-container');
                    if (recentPostsContainer) {
                        var url = '/feeds/posts/default?alt=json-in-script&max-results=5&callback=showRecentPostsWidget';
                        var script = document.createElement('script');
                        script.src = url;
                        document.body.appendChild(script);
                    }

                    // Callback function to render the recent posts.
                    function showRecentPostsWidget(json) {
                      if (!recentPostsContainer) return;
                      for (var i = 0; i < json.feed.entry.length; i++) {
                        var entry = json.feed.entry[i];
                        var postUrl;
                        for (var j = 0; j < entry.link.length; j++) {
                          if (entry.link[j].rel == 'alternate') {
                            postUrl = entry.link[j].href;
                            break;
                          }
                        }
                        var postTitle = entry.title.$t;
                        var postSnippet = ("summary" in entry) ? entry.summary.$t.replace(/<[^>]*>/g, "").substring(0, 100) + '...' : "";
                        var postImage = ("media$thumbnail" in entry) ? entry.media$thumbnail.url : "https://via.placeholder.com/150";

                        var html = '<div class="d-flex mb-3">';
                        html += '<div class="flex-shrink-0">';
                        html += '<img data-src="' + postImage + '" class="lazyload" style="width: 80px; height: 80px; object-fit: cover;" alt="' + postTitle + '"/>';
                        html += '</div>';
                        html += '<div class="flex-grow-1 ms-3">';
                        html += '<h5><a href="' + postUrl + '">' + postTitle + '</a></h5>';
                        html += '<p>' + postSnippet + '</p>';
                        html += '</div>';
                        html += '</div>';
                        recentPostsContainer.innerHTML += html;
                      }
                    }
                  // ]]>
                  </script>
                </div>
              </div>
            </b:includable>
          </b:widget>
          <!-- Popular Posts Widget -->
          <b:widget id='PopularPosts1' locked='false' type='PopularPosts' version='1'/>
          <!-- Archive Widget -->
          <b:widget id='BlogArchive1' locked='false' type='BlogArchive' version='1'/>
          <!-- Advertisement Widget -->
          <b:widget id='HTML5' locked='false' title='Advertisement' type='HTML' version='1'>
            <b:includable id='main'>
              <div class='card mb-4'>
                <div class='card-header'><data:title/></div>
                <div class='card-body'>
                  <div class='lazy-ad' style='width: 300px; height: 250px;'>
                    <!-- Ad will be loaded here -->
                  </div>
                </div>
              </div>
            </b:includable>
          </b:widget>
        </b:section>
      </div>
    </div>
  </main>
</b:if>

<!-- Footer -->
<footer class="bg-light border-top mt-auto py-3">
  <div class="container text-center">
    <!-- Social Media Links -->
    <b:section class='footer-social' id='footer-social' maxwidgets='1' showaddelement='yes'>
      <b:widget id='LinkList2' locked='false' title='Social Media' type='LinkList' version='1'>
        <b:includable id='main'>
          <div class='my-3'>
            <b:loop values='data:links' var='link'>
              <a class='btn btn-outline-secondary mx-1' expr:href='data:link.target' target='_blank'>
                <i expr:class='&quot;bi bi-&quot; + data:link.name'/>
              </a>
            </b:loop>
          </div>
        </b:includable>
      </b:widget>
    </b:section>
    <!-- Blogger Attribution -->
    <b:section class='footer' id='footer' maxwidgets='1' showaddelement='no'>
      <b:widget id='Attribution1' locked='true' title='' type='Attribution' version='1'/>
    </b:section>
  </div>
</footer>

<!-- Bootstrap JS -->
<script src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js'/>

<!-- Theme-specific Scripts -->
<script>
// <![CDATA[
  // --- Dark Mode Script ---
  // Toggles dark mode and saves the user's preference in localStorage.

  const darkModeToggle = document.getElementById('dark-mode-toggle');
  const htmlElement = document.documentElement;

  // Check for saved dark mode preference on page load.
  if (localStorage.getItem('dark-mode') === 'true') {
    htmlElement.classList.add('dark-mode');
    darkModeToggle.checked = true;
  }

  // Add event listener to the toggle button.
  darkModeToggle.addEventListener('change', () => {
    if (darkModeToggle.checked) {
      htmlElement.classList.add('dark-mode');
      localStorage.setItem('dark-mode', 'true');
    } else {
      htmlElement.classList.remove('dark-mode');
      localStorage.setItem('dark-mode', 'false');
    }
  });
// ]]>
</script>

<!-- Default Markups for Blogger Widgets -->
<b:defaultmarkups>
  <b:defaultmarkup type='PopularPosts'>
    <b:includable id='main'>
      <div class='card mb-4'>
        <div class='card-header'><data:title/></div>
        <div class='card-body'>
          <ul>
          <b:loop values='data:posts' var='post'>
            <li><a expr:href='data:post.url'><data:post.title/></a></li>
          </b:loop>
          </ul>
        </div>
      </div>
    </b:includable>
  </b:defaultmarkup>
  <b:defaultmarkup type='BlogArchive'>
    <b:includable id='main'>
      <div class='card mb-4'>
        <div class='card-header'><data:title/></div>
        <div class='card-body'>
          <b:include name='content'/>
        </div>
      </div>
    </b:includable>
  </b:defaultmarkup>
</b:defaultmarkups>

<script>
// <![CDATA[
  // --- Lazy Loading for Ads Script ---
  // Uses IntersectionObserver to load ads when they enter the viewport.

  document.addEventListener("DOMContentLoaded", function() {
    var lazyAds = [].slice.call(document.querySelectorAll(".lazy-ad"));

    if ("IntersectionObserver" in window) {
      let lazyAdObserver = new IntersectionObserver(function(entries, observer) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            let lazyAd = entry.target;
            // Replace with your actual ad code
            lazyAd.innerHTML = '<img src="https://via.placeholder.com/300x250.png?text=Advertisement" alt="Advertisement" />';
            // Stop observing the ad once it has been loaded.
            lazyAdObserver.unobserve(lazyAd);
          }
        });
      });

      lazyAds.forEach(function(lazyAd) {
        lazyAdObserver.observe(lazyAd);
      });
    }
  });
// ]]>
</script>
</body>
</html>
